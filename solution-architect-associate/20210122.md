### RDS

制限事項

- バージョンが限定される（実務で超最新バージョンを使うことはそもそもリスクありなので）
- キャパシティに上限がある
- OSログイン不可
- ファイルシステムアクセス不可
- IPアドレス固定不可
- 一部の機能使えない
- 個別パッチ適用不可
- ストレージ容量のオートスケール可能

- マルチAZでフェイルオーバーを設定可能
- リードレプリカ最大５台　DBの読み取り処理をスケールアウトできる
- スナップショット、トランザクションログをS3にできる。
- インスタンスタイプの変更を途中で可能
- ストレージサイズを上げることはできるが、下げることはできない
- データベースシャーディングを利用してRDSの書き込み処理をスケーリングすることができる（EC2にシャーディングソフトウェアを入れる）
- MySQLとPostgreはAuroraと互換性があるバージョンは容易に移行が可能でパフォーマンスを向上させることができる。
- イベントサブスクリプションでアラートを受け取ることができる。

暗号化対象（AES-256、AWS-KMSなど）

- DBインスタンス　作成時のみ暗号化設定可能
- 自動バックアップ
- リードレプリカ
- スナップショット

- 垂直スケールアップ　メモリCPUをいじる
- 水平スケーリング　処理機器を増やす

インスタンスタイプは汎用かメモリ最適化

汎用

- T2バーストインスタンス（テスト、ステージングに適している）
- T3バーストインスタンス　一時的なスパイクが生じる中程度とCPU資料率を持つワークロード
- M4小中規模のデータベースワークロード
- M5 様々なデータベースワークロード

メモリ最適化

- R4
- R5
- X1
- X1e
- Z1d

ストレージタイプ

- 汎用
- プロビジョンドIOPS
- マグネティック　性能低いハードディスクタイプ　IOなくデータ保持のみに向く

リードレプリカ

- 最大５台　Auroraは１５台まで増やせる（非同期レプリケーション、フェイルオーバーは同期レプリケーション）
- インスタンス、ストレージタイプを違うようにできる
- 障害時にリードレプリカをスタンドアロンのDBインスタンスに手動で切り替え可能
- Auroraの場合はプライマリーインスタンスに昇格可能

目的別にいうと、マルチAZ 高可用性、マルチリージョン　災害復旧、リードレプリカ　スケーラビリティとなっている。

ElastiCache

- 高速クエリ処理を実現することが可能


### Route 53

DNS

- URLをIPに変換する仕組み
- 権威DNSサーバーとキャッシュDNSサーバーがある
- Route53はAWSが提供する権威サーバーでありマネジメント型で簡単に設定できる。
- AWSが100％落ちないSLAサービス

ホストゾーン

パブリックホストゾーン

プライベートホストゾーン

- VPCに閉じたプライベートネットワーク内のDNSドメインのレコードを管理するコンテナ
- １つのプライベートホストゾーンで複数のVPCに対応可能
- VPCが相互アクセス可能であれば、複数リージョンのVPCでも同じホストリージョンを利用可能

DNSレコード

- SOA　ゾーン転送時に情報が更新されていないか確認する上位のもの
- A　ホスト名とIPアドレスを関連付ける
- X　メール
- CNAME 特定のホスト名を別のドメイン名に転送するときなどに利用する

ALIASレコード

Route53固有の仮想リソースレコード。本来CNAMEできないAWSサービスにルーティングできる

ルーティング

- シンプルルーティング
- 加重ルーティング 重み付けしてルーティングする
- フェイルオーバールーティング　ヘルスチェックの結果に基づいてDNSクエリに応答する
- 複数値回答ルーティング　ランダムに選ばれた最大８つの別々のレコードからIPアドレスを設定して、複数の値を応答する
- レイテンシールーティング　リージョンの遅延によりDNSクエリに応答する＝ユーザーに最寄りのリージョンにルーティングする傾向になる
- 位置情報ルーティング　ユーザーのIPアドレスにより位置情報を特定して、地域ごとに異なるレコードを返す
- 地理的近接性ルーティング　AWSリソースの場合はリソースのAWSリージョンで、AWS以外のリソースの場合は緯度経度を計算して最短のルーティングを行う

トラフィックフローを利用して視覚的に簡易にルーティングポリシーを設定することができるようになった

### データベース

データははテーブル形式で格納される

追加、参照、更新、削除を総称してCRUDと呼ぶ。このCRUDを実現するのがデータベースである。

ストレージはデータを永続的に記憶する装置を指す。データベースはストレージ＋データを管理・操作するソフトウェア

ACID　申請のあるトランザクションシステムの持つべき性質

- Atomicity すべて実行ORエラー時に１つも実行されない
- Consistency　トランザクションの前後でデータの整合性が保たれる
- Isolation　データ操作中にほかクエリが来ても影響を与えない。隠蔽する
- Durability　クラッシュしても失われない
